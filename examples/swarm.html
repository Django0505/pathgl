<!DOCTYPE html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<script src="/lib/d3.js"></script>
	<script src="/lib/setup.js"></script>
	<script src="/lib/topojson.v1.min.js"></script>
	<script src="/dist/pathgl.js"></script>

  <link rel="stylesheet" href="/lib/adnan.css">
  <meta charset="utf-8">
</head>

<body>
  <div class="nav">
      <a href="http://github.com/adnan-wahab/pathgl">Github Repo</a>
      <a href="/dist/pathgl.zip">Download</a>

			<h3>Examples</h3>
      <ul class="examples">
        <li><a href="/examples/swarm.html">100k Circles</a>
        <li><a href="/examples/map.html">Map of History</a>
        <li><a href="/examples/music.html">Music Visualizer</a>
      </ul>
			
			<h3>Documentation</h3>
			<ul class="docs">
        <li><a href="/documentation/start.html">Getting Started</a>
				<li><a href="/documentation/api.html">API Reference</a>
        <li><a href="/documentation/webgl.html">The Graphics Pipeline</a>
        <li><a href="/documentation/shaders.html">Shaders</a>
			</ul>
			<div class="mode">
			<h3>Rendering Mode</h3>
			<label for="svg">SVG<input type="radio" name="mode" id="svg"></label>
			<label for="webgl">WebGL<input type="radio" name="mode" checked="1" id="webgl"></label>
			</div>
	</div>
	<div class="right" id="scroll">
		<svg></svg>
		<canvas></canvas>
		<script>var selector = 'canvas'
var data = d3.range(selector == 'canvas' ? 1e5 : 2000)

var width = size.width
  , height = size.height

var svg = d3.select(selector)
          .attr('height', height).attr('width', width)
          .call(pathgl)

var circle = svg.selectAll("circle")
             .data(data)
             .enter().append("circle")
             .attr('fill', random_hue)
             .pAttr({
               "cx":function (d, i) { return d / 1e8 }
             , "cy": function (d, i) { return (data.length  -  d) / 20000 }
             , 'cz': function (d, i) { return d }
             , "r": function (d, i) { return d % 1000 } })
             .shader({
               cx: 'resolution.x / 2. + cos(pos.w + clock * pos.x) * pos.z * 10.;'
             , cy: 'resolution.y / 2. + sin(pos.w + clock * pos.x) * pos.z * 10.;'
             , stroke: 'vec4(unpack_color(stroke) * .5 + vec3(mouse.x / resolution.x, mouse.y / resolution.y, fract(sin(dot(pos.yx ,vec2(12.9898,78.233))) * 43758.5453)), 1.);'
             , radius: 'pos.y;'
             })

function random_hue () { return "hsl(" + Math.random() * 360 + ",100%, 50%)" }
</script>
  </div>
</div>
</body>
